{% extends './layouts/layout.njk' %}

{% from "./macros/search-box.njk"                       import searchBox %}
{% from "./macros/search-results.njk"                   import searchResults %}
{% from "govuk/components/pagination/macro.njk"         import govukPagination %}

{% block pageTitle %}{{ serviceName }}{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
        text: "Back",
        href: "/search"
      }) }}
{% endblock %}

{% set mainClasses = "padding-top-10" %}
{% block content %}
<h1 class="govuk-heading-l margin-bottom-15">Results for ‘{{ searchQuery }}’</h1>
<p>Check results or search again</p>

 <div class="govuk-grid-row">    
    <div class="govuk-grid-column-one-third" style="padding-top: 15px">
        {{ searchBox({
            inputClass: 'govuk-input',
            id: 'searchBox',
            name: 'searchString',
            inputmode: 'string',
            buttonText: 'Search',
            href: '/search',
            labelText: 'Search',
            value: searchQuery
        }) }}
    </div>

    {# {% if error %}
      <div class="govuk-grid-row">
        <p class="govuk-error-message">{{error}}</p>
      </div>
    {% else %} #}
      <div class="govuk-grid-column-two-thirds">
          {{ searchResults({
            results: results,
            total: total
          }) }}
          {{ govukPagination({
            previous: previous,
            next: next
          }) 
        }}
      </div>

    {# {% endif %} #}

  </div>
{% endblock %}
