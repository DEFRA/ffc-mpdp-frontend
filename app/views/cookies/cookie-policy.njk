{% extends './layouts/layout.njk' %}

{% block pageTitle %}Details about cookies - {{ serviceName }}{% endblock %}

{% block content %}

  {% if updated %}
    {% set html %}
      <p class="govuk-notification-banner__heading">You’ve set your cookie preferences.</p>
    {% endset %}

    {{ govukNotificationBanner({
      type: "success",
      html: html
    }) }}
  {% endif %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class='govuk-heading-l'>{{pageTitle}}</h1>

      <p>Cookies are small files saved on your phone, tablet or computer when you visit a website.</p>
      
      <p>We use cookies to make GOV.UK Notify work and collect information about how you use the ‘{{serviceName}}’ service.</p>

      <h3 class='govuk-heading-m'>Essential cookies</h3>

      <p>Essential cookies keep your information secure while you use Notify. We do not need to ask permission to use them.</p>

      {{ govukTable({
        head: [
          {
            text: "Name"
          },
          {
            text: "Purpose"
          },
          {
            text: "Expires"
          }
        ],
        rows: [
          [
            {
              text: "ffc_mpdp_cookie_policy"
            },
            {
              text: "Saves your cookie consent settings."
            },
            {
              text: "1 year"
            }
          ]
        ]
      }) }}

      <h3 class="govuk-heading-m">Analytics cookies (optional)</h3>

      <p class="govuk-body">With your permission, we use Google Analytics to collect data about how you use Notify. This information helps us to improve our service.</p>

      <p class="govuk-body">Google is not allowed to use or share our analytics data with anyone.</p>

      <p class="govuk-body">Google Analytics stores anonymised information about:</p>

      <ul class="govuk-list govuk-list--bullet">
        <li>how you got to this service</li>
        <li>the pages you visit on the service and how long you spend on them</li>
        <li>any errors you see while using this service</li>
      </ul>

      {{ govukTable({
        head: [
          {
            text: "Name"
          },
          {
            text: "Purpose"
          },
          {
            text: "Expires"
          }
        ],
        rows: [
          [
            {
              text: "_ga"
            },
            {
              text: "Checks if you’ve visited Notify before. This helps us count how many people visit our site."
            },
            {
              text: "2 years"
            }
          ],
          [
            {
              text: "_ga_xxxxxxxxxx"
            },
            {
              text: "Checks if you’ve visited Notify before. This helps us count how many people visit our site."
            },
            {
              text: "24 hours"
            }
          ]
        ]
      }) }}

      <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
          <form action="/cookies" method="post" novalidate>
            <input type="hidden" name="async" value="false"/>
            {{ govukRadios(analytics) }}
            {{ govukButton({
                text: "Save cookie settings",
                attributes: {
                  id: "submit"
                }
              }) 
            }}
          </form>
        </div>
      </div>
    </div>
  </div>

{% endblock %}
